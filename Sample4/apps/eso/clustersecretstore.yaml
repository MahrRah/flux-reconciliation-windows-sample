apiVersion: external-secrets.io/v1beta1
kind: ClusterSecretStore
metadata:
  name: cluster-azkv-secret-store
spec:
  provider:
    azurekv:
      # These values are replaced by the Kustomize Replacement resources found in the `kustomization.yaml`
      tenantId: ${TENANT_ID}
      vaultUrl: ${KEY_VAULT_URL}
      authSecretRef:
        # points to the secret that contains
        # the azure service principal credentials
        clientId:
          name: azkv-secret
          key: ClientID
          namespace: external-secrets
        clientSecret:
          name: azkv-secret
          key: ClientSecret
          namespace: external-secrets
